#!/bin/sh
. "$(dirname "$0")/husky.sh"

# 안전모드 + 로그
set -euo pipefail

echo "🔧 [pre-commit] 1) lint-staged 실행"
npx lint-staged

echo "🔎 [pre-commit] 2) TypeScript 타입체크(frontend)"
npm --prefix frontend run typecheck

echo "🧪 [pre-commit] 3) Jest 테스트(frontend)"
# 기본은 package.json의 설정을 사용.
npm --prefix frontend run test

echo "✅ [pre-commit] 완료"